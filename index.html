      oscillators = [];
    }

    // Initialize AudioContext
    function initializeAudio() {
      if (!audioContext) {
        audioContext = new (window.AudioContext || window.webkitAudioContext)();
        logToConsole('AudioContext initialized.');
      } else if (audioContext.state === 'suspended') {
        audioContext.resume();
        logToConsole('AudioContext resumed.');
      }
    }

    // Event listeners
    document.getElementById('playButton').addEventListener('click', () => {
      startPlaying();
      document.getElementById('playButton').disabled = true;
      document.getElementById('stopButton').disabled = false;
    });

    document.getElementById('stopButton').addEventListener('click', () => {
      stopPlaying();
      document.getElementById('playButton').disabled = false;
      document.getElementById('stopButton').disabled = true;
    });

    // Rhythm patterns for melody
    const rhythmPatterns = [
